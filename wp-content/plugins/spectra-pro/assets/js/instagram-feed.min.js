let spectraInstagramLoadStatus=!0;window.SpectraInstagramMasonry={init(r,e){let n=2;const o=window.innerHeight/1.25,i=document.querySelector(e),c=i.querySelector(".spectra-ig-feed__control-loader"),a=i.querySelector(".spectra-ig-feed__control-button");r.feedPagination&&r.paginateUseLoader?window.addEventListener("scroll",function(){let e=i.querySelector(".spectra-ig-feed__media-wrapper");var t,a=(e=e||i).lastElementChild.getBoundingClientRect().top+window.scrollY;window.pageYOffset+o>=a&&(a={page_number:n},t=r.gridPages,spectraInstagramLoadStatus)&&(n>t&&(c.style.display="none"),n<=t)&&(window.SpectraInstagramMasonry.callAjax(i,a,r,!1,n),n++,spectraInstagramLoadStatus=!1)}):r.feedPagination&&!r.paginateUseLoader&&(a.onclick=function(){var e=r.gridPages,t={total:e,page_number:n};a.classList.toggle("disabled"),spectraInstagramLoadStatus&&n<=e&&(window.SpectraInstagramMasonry.callAjax(i,t,r,!0,n),n++,spectraInstagramLoadStatus=!1)})},createElementFromHTML(e){var t=document.createElement("div"),e=e.replace(/\s+/gm," ").replace(/( )+/gm," ").trim();return t.innerHTML=e,t},callAjax(r,n,e,o=!1,i){var t=new FormData;t.append("action","spectra_pro_load_instagram_masonry"),t.append("nonce",spectra_pro_instagram_media.spectra_pro_instagram_masonry_ajax_nonce),t.append("page_number",n.page_number),t.append("attr",JSON.stringify(e)),fetch(spectra_pro_instagram_media.ajax_url,{method:"POST",credentials:"same-origin",body:t}).then(e=>e.json()).then(function(e){let t=r.querySelector(".spectra-ig-feed__layout--masonry");t=t||r;const a=new Isotope(t,{itemSelector:".spectra-ig-feed__media-wrapper",stagger:10});a.insert(window.SpectraInstagramMasonry.createElementFromHTML(e.data)),imagesLoaded(t).on("progress",function(){a.layout()}),(spectraInstagramLoadStatus=!0)===o&&r.querySelector(".spectra-ig-feed__control-button").classList.toggle("disabled"),i===parseInt(n.total)&&(r.querySelector(".spectra-ig-feed__control-button").style.opacity=0,setTimeout(()=>{r.querySelector(".spectra-ig-feed__control-button").parentElement.style.display="none"},2e3))}).catch(function(e){})}},window.SpectraInstagramPagedGrid={init(n,e){let o=1;const i=document.querySelector(e),c=i.querySelectorAll(".spectra-ig-feed__control-arrows--grid");var t=i.querySelectorAll(".spectra-ig-feed__control-dot");for(let e=0;e<c.length;e++)c[e].addEventListener("click",e=>{e=e.currentTarget;let t=o;switch(e.getAttribute("data-direction")){case"Prev":--t;break;case"Next":++t}i.querySelector(".spectra-ig-feed__media-wrapper")||i;var a=n.gridPages,r={page_number:t,total:a};t===a||1===t?e.disabled=!0:c.forEach(e=>{e.disabled=!1}),t<=a&&1<=t&&(window.SpectraInstagramPagedGrid.callAjax(i,r,n,c),o=t)});for(let e=0;e<t.length;e++)t[e].addEventListener("click",e=>{var e=e.currentTarget.getAttribute("data-go-to"),t=(i.querySelector(".spectra-ig-feed__media-wrapper")||i,{page_number:e,total:n.gridPages});window.SpectraInstagramPagedGrid.callAjax(i,t,n,c),o=e})},createElementFromHTML(e){var t=document.createElement("div"),e=e.replace(/\s+/gm," ").replace(/( )+/gm," ").trim();return t.innerHTML=e,t},callAjax(n,o,e,i){var t=new FormData;t.append("action","spectra_pro_load_instagram_grid_pagination"),t.append("nonce",spectra_pro_instagram_media.spectra_pro_instagram_grid_pagination_ajax_nonce),t.append("page_number",o.page_number),t.append("attr",JSON.stringify(e)),fetch(spectra_pro_instagram_media.ajax_url,{method:"POST",credentials:"same-origin",body:t}).then(e=>e.json()).then(function(e){let t=n.querySelector(".spectra-ig-feed__layout--isogrid");var a=(t=t||n).querySelectorAll(".spectra-ig-feed__media-wrapper");const r=new Isotope(t,{itemSelector:".spectra-ig-feed__media-wrapper",layoutMode:"fitRows"});a.forEach(e=>{r.remove(e),r.layout()}),r.insert(window.SpectraInstagramPagedGrid.createElementFromHTML(e.data)),imagesLoaded(t).on("progress",function(){r.layout()}),1===parseInt(o.page_number)?i.forEach(e=>{e.disabled="Prev"===e.getAttribute("data-direction")}):parseInt(o.page_number)===parseInt(o.total)?i.forEach(e=>{e.disabled="Next"===e.getAttribute("data-direction")}):i.forEach(e=>{e.disabled=!1}),n.querySelector(".spectra-ig-feed__control-dot--active").classList.toggle("spectra-ig-feed__control-dot--active");a=n.querySelectorAll(".spectra-ig-feed__control-dot");a&&a[parseInt(o.page_number)-1].classList.toggle("spectra-ig-feed__control-dot--active")}).catch(function(e){})}};