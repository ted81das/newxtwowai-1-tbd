UAGBCountdown={elements:{},countdownInterval:{},cookie_slug:uagb_countdown_data.site_name_slug,cache:{},editorInit(e,t={},o){var n;t.timeModified||((n=new Date).setMilliseconds(n.getMilliseconds()+6048e5),t.endDateTime=n),this.elements[e]=this.getElement(e),this.countdownInterval[e]=setInterval(()=>{this.updateCountdown(e,t,o)},1e3)},createCookie(e,t,o,n){let i="";var r;o&&(r=new Date,"minutes"===n?r.setTime(r.getTime()+60*o*1e3):"hours"===n?r.setTime(r.getTime()+60*o*60*1e3):r.setTime(r.getTime()+24*o*60*60*1e3),i="; expires="+r.toGMTString()),document.cookie=this.cookie_slug+"-"+e+"="+t+i+"; path=/"},getCookie(e){e=("; "+document.cookie).split("; "+this.cookie_slug+"-"+e+"=");return 2===e.length?e.pop().split(";").shift():""},init(t,o={}){if(this.elements[t]=this.getElement(t),window?.UAGBCountdownTimeSignal||(window.UAGBCountdownTimeSignal={}),window.UAGBCountdownTimeSignal[t]=!1,void 0!==this.elements[t]){if("evergreen"===o?.timerType){var e=""!==o?.campaignID&&null!==o?.campaignID?o.campaignID:o.block_id;if(this.cache.cookie=this.getCookie(e),""!==this.cache.cookie){var n=new Date;const i=Math.floor(this.cache.cookie-n.getTime());n=n.getTime()+i,n=new Date(n);o.endDateTime=n.toISOString().replace(/\.\d{3}Z$/,"Z")}else{o.endDateTime=this.getEvergreenEndDate(o.evergreenDays,o.evergreenHrs,o.evergreenMinutes);n=new Date,n=(n.setTime(n.getTime()+24*Math.floor(o.evergreenDays)*60*60*1e3),n.setTime(n.getTime()+60*Math.floor(o.evergreenHrs)*60*1e3),n.setTime(n.getTime()+60*Math.floor(o.evergreenMinutes)*1e3),this.cache.evergreen=n.getTime()+100,""!==o?.resetDays&&0<o.resetDays?o.resetDays:30);this.createCookie(e,this.cache.evergreen,n,"days")}}const a=document.querySelectorAll(t);for(let e=0;e<a.length;e++)this.updateCountdown(t,o,a[e]),this.countdownInterval[t]=setInterval(()=>{this.updateCountdown(t,o,a[e])},1e3)}e=new Date;const i=new Date(o.endDateTime)-e;n=i<0;if(o?.isFrontend&&"content"===o?.timerEndAction&&o?.reloadOnExpire){var e=o.block_id;if(n)return r=e,document.querySelectorAll(".uagb-block-"+r+" .wp-block-uagb-countdown__box").forEach(e=>{e.remove()}),r=".uagb-block-countdown-innerblocks-"+r,(r=document.querySelector(r)).style.display="unset",void(r.parentElement.style.display="unset");var r=document.querySelector(".uagb-block-countdown-innerblocks-"+e);r&&r.remove()}if(o?.isFrontend&&"redirect"===o?.timerEndAction&&n&&(e=o?.redirectURL?.url?o.redirectURL.url:window.location.origin,window.location.replace(e)),o?.isFrontend&&"redirect"===o?.timerEndAction){const s=o?.redirectURL?.url?o.redirectURL.url:window.location.origin;setInterval(()=>{var e=".uagb-block-"+o.block_id;window.UAGBCountdownTimeSignal[e]&&window.location.replace(s)},1e3)}o?.isFrontend&&"hide"===o?.timerEndAction&&setInterval(()=>{var e=".uagb-block-"+o.block_id;window.UAGBCountdownTimeSignal[e]&&document.querySelector(e)?.remove()},1e3)},changeEndTime(e,t={},o){clearInterval(this.countdownInterval[e]),void 0!==this.elements[e]&&(this.updateCountdown(e,t,o),this.countdownInterval[e]=setInterval(()=>{this.updateCountdown(e,t,o)},1e3))},getElement(e){let t=document.querySelector(e);var o=document.querySelector('iframe[name="editor-canvas"]');return t=o&&o.contentDocument?o.contentDocument.querySelector(e):t},updateCountdown(a,s,c=null){if(c){let e,t,o;var l=c.querySelector(".wp-block-uagb-countdown__time-seconds"),d=(s?.showDays&&(e=c.querySelector(".wp-block-uagb-countdown__time-days")),s?.showHours&&(t=c.querySelector(".wp-block-uagb-countdown__time-hours")),s?.showMinutes&&(o=c.querySelector(".wp-block-uagb-countdown__time-minutes")),new Date),d=new Date(s.endDateTime)-d,u=d<0,m=Math.floor(d/1e3/60/60/24);let n=Math.floor(d/1e3/60/60)%24,i=Math.floor(d/1e3/60)%60,r=Math.floor(d/1e3)%60;s?.showDays||(n+=24*m),s?.showHours||(i+=60*n),s?.showMinutes||(r+=60*i),s?.showDays&&e&&(e.innerHTML=u?0:m),s?.showHours&&t&&(t.innerHTML=u?0:n),s?.showMinutes&&o&&(o.innerHTML=u?0:i),l&&(l.innerHTML=u?0:r),u&&(clearInterval(this.countdownInterval[a]),"redirect"!==s?.timerEndAction&&"hide"!==s?.timerEndAction||!s?.isFrontend||(window.UAGBCountdownTimeSignal[a]=!0));const w="spectraPageReloaded_"+a;d="true"===this.getCookie(w);const g=""!==s?.resetDays&&0<s.resetDays?s.resetDays:30;s?.isFrontend&&(d&&!u&&"false"!==this.getCookie(w)&&this.createCookie(w,"false",0,"days"),!d&&u&&"content"===s?.timerEndAction&&s?.reloadOnExpire&&s?.autoReload&&setTimeout(()=>{this.createCookie(w,"true",g,"days"),location.reload()},1e3),!u||"content"!==s?.timerEndAction||s?.reloadOnExpire||s?.autoReload||(m=["days","hours","minutes","seconds"].map(e=>c.querySelector(".wp-block-uagb-countdown__box-"+e)),c.querySelector(".uagb-block-countdown-innerblocks-"+s.block_id).style.display="block",m.forEach(e=>{e&&(e.style.display="none")})))}},getEvergreenEndDate(e,t,o){var n=new Date;return new Date(n.getTime()+60*(24*e*60+60*t+o)*1e3).toISOString().replace(/\.\d{3}Z$/,"Z")}};