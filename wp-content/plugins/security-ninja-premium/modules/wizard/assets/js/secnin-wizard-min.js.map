{"version":3,"names":["Whizzie","$","t","current_step","step_pointer","callbacks","do_next_step","btn","activate_firewall","data","action","_ajax_nonce","whizzie_params","nonce","get","ajaxurl","response","success","console","error","fail","jqXHR","textStatus","errorThrown","activate_default_fixes","secnin_window_loaded","maxHeight","each","index","this","attr","innerHeight","addClass","css","setStepHeight","on","e","preventDefault","parent","toggleClass","detail","find","hasClass","animate","height","concat","removeClass","fadeOut","next","fadeIn","init","callback","func","jQuery","document","ready"],"sources":["secnin-wizard.js"],"sourcesContent":["/* globals jQuery:true, ajaxurl:true, whizzie_params:true */\n'use strict';\n\nconst Whizzie = (function($){\n    \n    let t;\n    let current_step = '';\n    let step_pointer = '';\n    \n    // callbacks from form button clicks.\n    const callbacks = {\n        do_next_step: function( btn ) {\n            do_next_step( btn );\n        },\n        \n        // ** Activate Firewall step\n        activate_firewall: function(btn){\n            const data = {\n                'action': 'secnin_activate_firewall',\n                '_ajax_nonce': whizzie_params.nonce\n            };\n            \n            $.get(ajaxurl, data, function(response) {\n                if (response.success) {\n                    do_next_step();\n                } else {\n                    console.error('Error:', response.data);\n                    // Display error to user\n                }\n            }).fail(function(jqXHR, textStatus, errorThrown) {\n                console.error('AJAX error:', textStatus, errorThrown);\n                // Display error to user\n            });\n        },\n        // ** Activate default fixes\n        activate_default_fixes: function(btn){\n            const data = {\n                'action': 'secnin_activate_default_fixes',\n                '_ajax_nonce': whizzie_params.nonce\n            };\n            \n            $.get(ajaxurl, data, function(response) {\n                if (response.success) {\n                    do_next_step();\n                } else {\n                    console.error('Error:', response.data);\n                    // Display error to user\n                }\n            }).fail(function(jqXHR, textStatus, errorThrown) {\n                console.error('AJAX error:', textStatus, errorThrown);\n                // Display error to user\n            });\n        }\n    };\n\n    function setStepHeight() {\n        let maxHeight = 0;\n        \n        $('.whizzie-menu li.step').each(function(index) {\n            $(this).attr('data-height', $(this).innerHeight());\n            if ($(this).innerHeight() > maxHeight) {\n                maxHeight = $(this).innerHeight();\n            }\n        });\n        \n        $('.whizzie-menu li .detail').each(function(index) {\n            $(this).attr('data-height', $(this).innerHeight());\n            $(this).addClass('scale-down');\n        });\n        \n        $('.whizzie-menu li.step').css('height', maxHeight);\n    }\n\n    function initializeSteps() {\n        $('.whizzie-menu li.step:first-child').addClass('active-step');\n        $('.whizzie-nav li:first-child').addClass('active-step');\n        $('.whizzie-wrap').addClass('loaded');\n    }\n\n    function handleMoreInfoClick() {\n        $('.whizzie-wrap').on('click', '.more-info', function(e) {\n            e.preventDefault();\n            const parent = $(this).parent().parent();\n            parent.toggleClass('show-detail');\n            const detail = parent.find('.detail');\n            const maxHeight = parent.data('height');\n            \n            if (parent.hasClass('show-detail')) {\n                parent.animate({\n                    height: maxHeight + detail.data('height')\n                },\n                500,\n                function(){\n                    detail.toggleClass('scale-down');\n                }).css('overflow', 'visible');\n            } else {\n                parent.animate({\n                    height: maxHeight\n                },\n                500,\n                function(){\n                    detail.toggleClass('scale-down');\n                }).css('overflow', 'visible');\n            }\n        });\n    }\n\n    function handleDoItClick() {\n        $('.whizzie-wrap').on('click', '.do-it', function(e) {\n            e.preventDefault();\n            step_pointer = $(this).data('step');\n            current_step = $(`.step-${step_pointer}`);\n            $('.whizzie-wrap').addClass('spinning');\n            \n            if ($(this).data('callback') && typeof callbacks[$(this).data('callback')] !== 'undefined') {\n                // we have to process a callback before continue with form submission\n                callbacks[$(this).data('callback')](this);\n                return false;\n            } else {\n                return true;\n            }\n        });\n    }\n    \n    function secnin_window_loaded() {\n        setStepHeight();\n        initializeSteps();\n        handleMoreInfoClick();\n        handleDoItClick();\n    }\n    \n    function do_next_step( btn ) {\n        current_step.removeClass('active-step');\n        $(`.nav-step-${step_pointer}`).removeClass('active-step');\n        current_step.addClass('done-step');\n        $(`.nav-step-${step_pointer}`).addClass('done-step');\n        current_step.fadeOut(500, function() {\n            current_step = current_step.next();\n            step_pointer = current_step.data('step');\n            current_step.fadeIn();\n            current_step.addClass('active-step');\n            $(`.nav-step-${step_pointer}`).addClass('active-step');\n            $('.whizzie-wrap').removeClass('spinning');\n        });\n    }\n    \n    return {\n        init: function(){\n            t = this;\n            $(secnin_window_loaded);\n        },\n        callback: function(func){\n            // Removed console.log statements\n        }\n    };\n    \n})(jQuery);\n\njQuery(document).ready(function(){\n    // Lets load when the page is ready\n    Whizzie.init();\n});"],"mappings":"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","ignoreList":[]}