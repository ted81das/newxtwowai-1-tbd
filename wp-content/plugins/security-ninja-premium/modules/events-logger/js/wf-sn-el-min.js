var eventstable;jQuery(document).ready((function($){jQuery(document).ready((function(){eventstable=jQuery("#sn-el-datatable").DataTable({processing:!0,serverSide:!0,ajax:{url:ajaxurl,type:"POST",data:{action:"get_events_data",nonce:datatables_object.nonce},error:function(e,t,a){var n="<strong>Error loading data:</strong><br>Status: "+e.status+" ("+e.statusText+")<br>Error: "+t+"<br>Code: "+a+"<br>Response: "+e.responseText;jQuery("#datatable-error").html(n).show()}},columns:[{data:"timestamp",title:"Time"},{data:"action",title:"Action"},{data:"user_id",title:"User"},{data:"description",title:"Event"},{data:"details",title:"Details",orderable:!1}],order:[[0,"desc"]],columnDefs:[{targets:4,data:null,defaultContent:"<button>Detail</button>"}]})})),$("#sn-el-datatable tbody").on("click","button",(function(){var e=$(this).closest("tr"),t=eventstable.row(e);if(t.child.isShown())t.child.hide(),e.removeClass("shown"),$(this).removeClass("open");else{var a=e.find(".details-content").html();t.child(a).show(),e.addClass("shown"),$(this).addClass("open")}})),$("#sn-el-truncate").on("click",(function(e){if(e.preventDefault(),confirm("Are you sure you want to delete all log entries?")){var t={action:"sn_el_truncate_log",_ajax_nonce:wf_sn_el.nonce};$.post(ajaxurl,t,(function(e){e?(alert("All log entries have been deleted."),window.location.reload()):alert("Bad AJAX response. Please reload the page.")}))}}))}));