(()=>{var a;(a=jQuery)("body").on("click",".admin-bar-upgrade-popup .popup-dismiss",(function(t){t.preventDefault(),a(this).closest(".admin-bar-upgrade-popup").fadeOut(200)})),a("body").on("click",".disabled",(function(t){t.preventDefault(),a(".admin-bar-upgrade-popup").fadeIn(200)})),a("body").on("click",".plugin-action-buttons .install-now",(function(t){if(t.preventDefault(),!a(this).hasClass("updating-message")){var e=a(this).attr("data-install-url");!function installPlugin(a,t){a.removeClass("button-primary"),a.addClass("updating-message"),a.text("Installing..."),jQuery.ajax({url:JLT_ADMIN_BAR_EDITORCORE.admin_ajax,type:"POST",data:{action:"jlt_admin_bar_editor_recommended_upgrade_plugin",type:"install",plugin:t,nonce:JLT_ADMIN_BAR_EDITORCORE.recommended_nonce},success:function success(e){!0===e.success?(a.removeClass("updating-message"),a.addClass("updated-message installed button-disabled"),a.attr("disabled","disabled"),a.removeAttr("data-install-url"),a.text("Installed!"),setTimeout((function(){var e=jQuery(".plugin-status .plugin-status-not-install[data-plugin-url='"+t+"']");e.text("Active"),e.addClass("plugin-status-active"),e.removeClass("plugin-status-not-install"),e.removeAttr("data-install-url"),a.removeClass("install-now updated-message installed"),a.text("Activated"),a.removeAttr("aria-label")}),500)):(a.removeClass("updating-message"),a.addClass("button-primary"),a.text("Install Now"))}})}(a(this),e)}})),a("body").on("click",".plugin-action-buttons .activate-now",(function(){var t=a(this).attr("data-plugin-file");!function activatePlugin(a,t){a.addClass("button-disabled"),a.attr("disabled","disabled"),a.text("Processing..."),jQuery.ajax({url:JLT_ADMIN_BAR_EDITORCORE.admin_ajax,type:"POST",data:{action:"jlt_admin_bar_editor_recommended_activate_plugin",file:t,nonce:JLT_ADMIN_BAR_EDITORCORE.recommended_nonce},success:function success(e){if(!0===e.success){var s=jQuery(".plugin-status .plugin-status-inactive[data-plugin-file='"+t+"']");s.text("Active"),s.addClass("plugin-status-active"),s.removeClass("plugin-status-inactive"),a.removeClass("active-now"),a.text("Activated")}else a.removeClass("button-disabled"),a.prop("disabled",!1),a.text("Activated")}})}(a(this),t)})),a("body").on("click",".plugin-action-buttons .update-now",(function(){if(!a(this).hasClass("updating-message")){var t=a(this).attr("data-plugin");!function updatePlugin(a,t){a.addClass("updating-message"),a.text("Updating..."),jQuery.ajax({url:JLT_ADMIN_BAR_EDITORCORE.admin_ajax,type:"POST",data:{action:"jlt_admin_bar_editor_recommended_upgrade_plugin",type:"update",plugin:t,nonce:JLT_ADMIN_BAR_EDITORCORE.recommended_nonce},success:function success(e){if(!0===e.success){if(a.removeClass("updating-message"),a.addClass("updated-message button-disabled"),a.attr("disabled","disabled"),a.text("Updated!"),!1===e.data.active){var s=jQuery(".plugin-status .plugin-status-inactive[data-plugin-file='"+t+"']");s.text("Active"),s.addClass("plugin-status-active"),s.removeClass("plugin-status-inactive"),s.removeAttr("data-plugin-file")}}else a.removeClass("updating-message"),a.text("Update Now")}})}(a(this),t)}})),a(".filter-links").on("click","a",(function(t){t.preventDefault();var e=a(this).data("type");a(this).addClass("current").parent().siblings().find("a").removeClass("current"),a("#the-list .plugin-card").each((function(t,s){"all"==e||a(this).hasClass(e)?a(this).removeClass("hide"):a(this).addClass("hide")}))})),a(".admin-bar-search-plugins #search-plugins").on("keyup",(function(){var t=a(this).val(),e=new RegExp(t,"i");a("#the-list .plugin-card").each((function(){var t=a(this);t.find(".name h3 a, .desc p").text().search(e)>=0||t.addClass("hide"),t.find(".name h3 a, .desc p").text().search(e)>=0&&t.removeClass("hide")}))}))})();