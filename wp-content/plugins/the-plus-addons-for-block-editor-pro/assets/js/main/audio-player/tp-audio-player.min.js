function tpaudioPly(e){let t=e.querySelectorAll(".tpgb-audio-player");t&&t.forEach(r=>{r.getAttribute("data-id");var p,g,v=r.querySelector(".tracker"),e=r.querySelector(".volume"),m=(r.querySelector(".durationtime"),r.querySelector(".currenttime")),i=r.getAttribute("data-style"),t=r.getAttribute("data-apvolume"),b=r.querySelector(".tracker-fill");function S(e,r,t){var i=e?e.getAttribute("audiourl"):"",a=e?e.textContent:"",l=e?e.getAttribute("artist"):"",n=e?e.getAttribute("data-thumb"):"";if("style-3"==t){let e=r.querySelector(".trackimage img");e&&(e.src=n,e.srcset=n)}if("style-4"==t){let e=r.querySelector(".tpgb-player");e&&(e.style.cssText="background: url("+n+"); transition: background 0.5s linear")}if("style-5"==t){let e=r.querySelector(".ap-st5-img");e&&(e.style.cssText="background: url("+n+"); transition: background 0.5s linear")}if("style-6"==t){let e=r.querySelector(".ap-st5-content");e&&(e.style.cssText="background: url("+n+"); transition: background 0.5s linear")}if("style-8"==t){let e=r.querySelector(".tpgb-player-bg-img");e&&(e.style.cssText="background: url("+n+"); background-size: cover; background-position: center center; transition: background 0.5s linear");let t=r.querySelector(".trackimage img");t&&(t.src=n)}if("style-9"==t){let e=r.querySelector(".tpgb-player-bg-img");e&&(e.style.cssText="background: url("+n+"); background-size: cover; background-position: center center;")}let o=r.querySelector(".title");o&&(o.textContent=a);let s=r.querySelector(".artist");s&&(s.textContent=l);var c,d,u=r.querySelector(".durationtime");(p=new Audio(i)).addEventListener("timeupdate",function(){var e=parseInt(p.currentTime,10);v&&(v.noUiSlider.set(e),b&&(b.style.width=100*p.currentTime/p.duration+"%")),g=e,m&&(e=g,m.innerHTML=formatTime(e))}),p.addEventListener("loadeddata",function(){u&&(u.innerHTML=formatTime(p.duration))},!0);let y=r.querySelector(".tpgb-playlist.active");y&&y.classList.remove("active"),e&&e.classList.add("active"),c=r,d=t,p.addEventListener("ended",function(){let e=c.querySelector(".tpgb-playlist.active").nextElementSibling;e=e&&c.querySelector(".tpgb-playlist:first-child"),S(e,c,d),p.addEventListener("loadedmetadata",function(){f(c)})},!1)}function f(e){p.play();var t=Math.round(p.duration);v.noUiSlider.updateOptions({range:{min:0,max:t}});let r=e.querySelector(".play"),i=e.querySelector(".pause");r&&r.classList.add("hidden"),i&&i.classList.add("visible")}function a(e){p.pause();let t=e.querySelector(".play.hidden"),r=e.querySelector(".pause.visible");t&&t.classList.remove("hidden"),r&&r.classList.remove("visible")}let l=r.querySelector(".play"),n=r.querySelector(".pause"),o=r.querySelector(".fwd"),s=r.querySelector(".rew");l.addEventListener("click",e=>{var t;e.preventDefault(),p.duration&&NaN!=p.duration&&(t=Math.round(p.duration),v&&v.noUiSlider.updateOptions({range:{min:0,max:t}}),p.play(),e.currentTarget.classList.add("hidden"),n.classList.add("visible"))}),n.addEventListener("click",e=>{e.preventDefault(),a(r)}),o&&o.addEventListener("click",e=>{e.preventDefault(),a(r);let t=r.querySelector(".tpgb-playlist.active").nextElementSibling;t=t||r.querySelector(".tpgb-playlist:first-child"),S(t,r,i),p.addEventListener("loadedmetadata",function(){f(r)})}),s&&s.addEventListener("click",e=>{e.preventDefault(),a(r);let t=r.querySelector(".tpgb-playlist.active").previousElementSibling;t=t||r.querySelector(".tpgb-playlist:last-child"),S(t,r,i),p.addEventListener("loadedmetadata",function(){f(r)})});let c=r.querySelector(".playlistIcon"),d=r.querySelector(".playlist");c&&c.addEventListener("click",e=>{e.preventDefault(),d.classList.contains("show")?d.classList.remove("show"):d.classList.add("show")});let u=r.querySelector(".volumeIcon"),y=r.querySelector(".tpgb-volume-bg");u&&u.addEventListener("click",e=>{e.target.classList.contains("tpgb-volume-bg")||e.target.closest(".tpgb-volume-bg")||(e.preventDefault(),y.classList.contains("show")?y.classList.remove("show"):y.classList.add("show"))});let q=r.querySelectorAll(".tpgb-playlist");q&&q.forEach(e=>{e.addEventListener("click",e=>{a(r),S(e.currentTarget,r,i),p.addEventListener("loadedmetadata",function(){f(r)})})}),S(r.querySelector(".tpgb-playlist:first-child"),r,i),e&&(noUiSlider.create(e,{direction:"rtl",orientation:"vertical",start:t,connect:!0,range:{min:0,max:100}}),e.noUiSlider.on("slide",function(e,t){p.volume=e[0]/100})),v&&(noUiSlider.create(v,{start:0,connect:!0,range:{min:0,max:100}}),v.noUiSlider.on("slide",function(e,t){p.currentTime=e[0]}))})}function formatTime(e){var t,r=0,i=0;return 3600<(e=parseInt(e,10))&&(e-=60*(r=parseInt(e/3600,10))*60),60<e&&(e-=60*(i=parseInt(e/60,10))),t=e,e=0<r?r+":":"",e+=0<i?(i<10&&0<r?"0":"")+i+":":"0:",e+=(t<10?"0":"")+t}document.addEventListener("DOMContentLoaded",function(){tpaudioPly(document)});